# قائمة التحقق من النشر على iPage

## قبل الرفع

### إعداد الملفات المحلية
- [ ] قم بتشغيل `composer install --no-dev --optimize-autoloader`
- [ ] قم بتشغيل `php artisan config:cache`
- [ ] قم بتشغيل `php artisan route:cache`
- [ ] قم بتشغيل `php artisan view:cache`
- [ ] تأكد من تحديث `APP_VERSION` في `.env`
- [ ] قم بإنشاء نسخة احتياطية من قاعدة البيانات إذا كنت تحدث موقعاً موجوداً

### تجهيز ملفات النشر
- [ ] انسخ `.env.ipage` إلى `.env` وعدّل القيم
- [ ] انسخ `index.php` (من الجذر) - سيتم وضعه في `public_html/`
- [ ] انسخ `.htaccess` (من الجذر) - سيتم وضعه في `public_html/`
- [ ] انسخ `.htaccess.root` - سيتم تسميته `.htaccess` ووضعه في جذر التطبيق
- [ ] تحضير `php.ini.example` - سيتم تسميته `php.ini` إذا لزم الأمر

## الرفع على iPage

### 1. رفع ملفات التطبيق
- [ ] أنشئ مجلد خارج `public_html` (مثلاً: `laravel-app`)
- [ ] ارفع المجلدات التالية إلى `laravel-app/`:
  - [ ] app/
  - [ ] bootstrap/
  - [ ] config/
  - [ ] database/
  - [ ] lang/
  - [ ] routes/
  - [ ] storage/
  - [ ] themes/
  - [ ] vendor/ (إذا تم تثبيته محلياً)
- [ ] ارفع الملفات التالية إلى `laravel-app/`:
  - [ ] .env (المعدل من .env.ipage)
  - [ ] .htaccess (من .htaccess.root)
  - [ ] artisan
  - [ ] composer.json
  - [ ] composer.lock
  - [ ] phpunit.xml

### 2. رفع ملفات Public
- [ ] ارفع `index.php` (النسخة الجديدة) إلى `public_html/`
- [ ] ارفع `.htaccess` (النسخة الجديدة) إلى `public_html/`
- [ ] ارفع الملفات التالية من `public/` إلى `public_html/`:
  - [ ] robots.txt
  - [ ] favicon.png
  - [ ] cover.jpg

### 3. إعداد قاعدة البيانات
- [ ] أنشئ قاعدة بيانات MySQL في cPanel
- [ ] أنشئ مستخدم قاعدة بيانات
- [ ] أضف المستخدم إلى القاعدة مع كامل الصلاحيات
- [ ] حدّث معلومات القاعدة في `.env`

### 4. تكوين التطبيق
- [ ] تحقق من APP_URL في `.env`
- [ ] تأكد من `APP_ENV=production`
- [ ] تأكد من `APP_DEBUG=false`
- [ ] قم بتوليد APP_KEY إذا لم يكن موجوداً

### 5. ضبط الصلاحيات
- [ ] اضبط صلاحيات `storage/` إلى 755 أو 775
- [ ] اضبط صلاحيات `bootstrap/cache/` إلى 755 أو 775
- [ ] تأكد أن `.env` محمي (صلاحيات 644)

### 6. تهيئة قاعدة البيانات
اختر أحد الطرق:
- [ ] **الطريقة 1 (SSH):** قم بتشغيل `php artisan migrate --force`
- [ ] **الطريقة 2 (Manual):** استورد ملف SQL عبر phpMyAdmin

### 7. إنشاء المدير
اختر أحد الطرق:
- [ ] **SSH:** قم بتشغيل `php artisan make:user`
- [ ] **Manual:** أدخل مستخدم مباشرة في قاعدة البيانات

## التحقق من التثبيت

### اختبارات أساسية
- [ ] افتح الصفحة الرئيسية وتأكد من ظهورها
- [ ] تحقق من تحميل الستايلات والصور
- [ ] افتح صفحة `/admin` وتحقق من تسجيل الدخول
- [ ] اختبر تحميل فيديو TikTok

### اختبارات الأمان
- [ ] تأكد أن `.env` غير قابل للوصول من المتصفح
- [ ] تحقق من عدم إمكانية الوصول إلى `/storage`
- [ ] تأكد من تفعيل HTTPS
- [ ] تحقق من عدم ظهور أخطاء PHP

### تحسين الأداء
- [ ] **إذا كان SSH متاحاً:**
  - [ ] `php artisan config:cache`
  - [ ] `php artisan route:cache`
  - [ ] `php artisan view:cache`
- [ ] **بدون SSH:**
  - [ ] تأكد أن ملفات الكاش تم إنشاؤها محلياً ورفعها

## ما بعد النشر

### المراقبة
- [ ] راقب ملفات اللوج في `storage/logs/`
- [ ] راقب استهلاك الموارد في لوحة تحكم iPage
- [ ] اختبر النسخ الاحتياطية بانتظام

### الصيانة الدورية
- [ ] نسخ احتياطي أسبوعي لقاعدة البيانات
- [ ] نسخ احتياطي شهري للملفات
- [ ] مراجعة اللوجات للأخطاء
- [ ] تحديث Dependencies عند توفر تحديثات أمنية

### التحسينات الاختيارية
- [ ] تفعيل SSL Certificate المجاني
- [ ] إعداد Cron Jobs للمهام المجدولة
- [ ] تكوين إعدادات البريد الإلكتروني
- [ ] ربط CDN للملفات الثابتة

## حل المشكلات

### في حالة خطأ 500
1. [ ] فعّل `APP_DEBUG=true` مؤقتاً
2. [ ] افحص `storage/logs/laravel.log`
3. [ ] تحقق من صلاحيات المجلدات
4. [ ] تأكد من صحة معلومات قاعدة البيانات

### في حالة صفحة بيضاء
1. [ ] تحقق من وجود `vendor/`
2. [ ] تأكد من صحة `index.php` و `bootstrap/app.php`
3. [ ] افحص Error Logs في cPanel

### في حالة مشاكل الستايلات
1. [ ] تحقق من `APP_URL` في `.env`
2. [ ] تأكد من رفع جميع ملفات `public/`
3. [ ] امسح كاش المتصفح

## معلومات الاتصال بالدعم

- **دعم iPage:** https://www.ipage.com/contact
- **توثيق المشروع:** https://tiktok.docs.codespikex.com
- **Laravel Documentation:** https://laravel.com/docs

---

**ملاحظة:** احتفظ بنسخة من هذه القائمة وعلّم على كل بند بعد إتمامه لضمان عدم تفويت أي خطوة.
